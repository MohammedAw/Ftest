<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>جمع معلومات العائلة</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script>
        function updateSecondBranch() {
            var firstBranch = document.getElementById("firstBranch").value;
            var secondBranch = document.getElementById("secondBranch");
            var options = {
                "العواد": ["المحمد"],
                "الحسين": ["العبدالله", "السعود", "المساعد", "الغنيم", "العواد", "السعد", "العايد", "المحمد"],
                "الدخيل": ["السعد", "العواد-", "السعود", "المحمد"]
            };

            // مسح الخيارات الحالية
            while (secondBranch.options.length) {
                secondBranch.remove(0);
            }

            // إضافة الخيارات الجديدة
            if (options[firstBranch]) {
                options[firstBranch].forEach(function(branch) {
                    var option = new Option(branch, branch);
                    secondBranch.add(option);
                });
            }
        }

        function addChild() {
            var childrenContainer = document.getElementById("childrenContainer");
            var childDiv = document.createElement("div");
            var childInput = document.createElement("input");
            childInput.type = "text";
            childInput.name = "children[]";
            childInput.placeholder = "اسم الابن";
            childDiv.appendChild(childInput);
            childrenContainer.appendChild(childDiv);
        }
    </script>
</head>
<body>
    <div class="container">
        <h1>لإفراد العائلة غير الموجودين في الشجرة القديمة</h1>
        <h3>اختر الفرع الأول العواد أو الحسين أو الدخيل ثم اختر الفرع الثاني وبعدها اكتب لنا اسمك إلى الفرع الثاني</h3>
        <form name="familyForm" method="POST" data-netlify="true">
            <input type="hidden" name="form-name" value="familyForm">
            <label for="firstBranch">الفرع:</label>
            <select id="firstBranch" name="firstBranch" onchange="updateSecondBranch()" required>
                <option value="">اختر الفرع</option>
                <option value="العواد">العواد</option>
                <option value="الحسين">الحسين</option>
                <option value="الدخيل">الدخيل</option>
            </select>
            <label for="secondBranch">الفرع الثاني:</label>
            <select id="secondBranch" name="secondBranch" required>
                <option value="">اختر الفرع الثاني</option>
            </select>
            <label for="name">الاسم الكامل:</label>
            <input type="text" id="name" name="name" required>
            
            <label for="children1">اسم الابن:</label>
            <input type="text" id="children1" name="children[]" placeholder="اسم الابن 1">
            
            <label>الأبناء الإضافيين:</label>
            <div id="childrenContainer"></div>
            <button type="button" onclick="addChild()">إضافة ابن</button><br><br>
            
            <input type="submit" value="إرسال">
        </form>
        <a href="display_data.html">عرض الشجرة القديمة</a>
    </div>
</body>
</html>
